{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Ilyas/Desktop/projects/shop-kwork/src/widgets/RegisterPage/ui/RegisterPage.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { zodResolver } from \"@hookform/resolvers/zod\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { z } from \"zod\";\r\nimport Link from \"next/link\";\r\nimport { useRegisterUserMutation } from \"@/shared/api/RegApi/RegApi\";\r\nimport { useRouter } from \"next/navigation\";\r\n\r\nconst formSchema = z\r\n  .object({\r\n    email: z.string().email({\r\n      message: \"Почта введена неправильно\",\r\n    }),\r\n    password: z.string().min(8, {\r\n      message: \"Пароль должен содержать не менее 8 символов\",\r\n    }),\r\n    confirmPassword: z.string().min(8, {\r\n      message: \"Подтверждение пароля должно содержать не менее 8 символов\",\r\n    }),\r\n    firstName: z.string().nonempty({\r\n      message: \"Имя обязательно для заполнения\",\r\n    }),\r\n    lastName: z.string().nonempty({\r\n      message: \"Фамилия обязательна для заполнения\",\r\n    }),\r\n    agreeToPolicy: z.boolean().refine(value => value === true, {\r\n      message: \"Вы должны подтвердить согласие с политикой конфиденциальности\",\r\n    }),\r\n  })\r\n  .refine(data => data.password === data.confirmPassword, {\r\n    message: \"Пароли не совпадают\",\r\n    path: [\"confirmPassword\"],\r\n  });\r\n\r\ntype FormFields = z.infer<typeof formSchema>;\r\n\r\nconst RegisterPage = () => {\r\n  const [registerUser] = useRegisterUserMutation();\r\n  const { push } = useRouter();\r\n  const form = useForm<FormFields>({\r\n    resolver: zodResolver(formSchema),\r\n    defaultValues: {\r\n      email: \"\",\r\n      password: \"\",\r\n      confirmPassword: \"\",\r\n      firstName: \"\",\r\n      lastName: \"\",\r\n      agreeToPolicy: false,\r\n    },\r\n  });\r\n\r\n  async function onSubmit(values: FormFields) {\r\n    try {\r\n      const requestBody = {\r\n        name: values.firstName,\r\n        surname: values.lastName,\r\n        email: values.email,\r\n        password: values.password,\r\n        password_confirmation: values.confirmPassword,\r\n      };\r\n\r\n      const result = await registerUser(requestBody).unwrap();\r\n      console.log(\"Registration successful:\", result);\r\n\r\n      if (typeof window !== \"undefined\") {\r\n        localStorage.setItem(\"access_token\", result.access_token);\r\n      }\r\n\r\n      push(\"/\");\r\n    } catch (err) {\r\n      console.error(\"Registration failed:\", err);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-4 min-w-[220px] lg:min-w-[450px] mt-4 my-10\">\r\n      <div className=\"w-full text-center\">\r\n        <h1 className=\"text-[20px] tablet:text-[30px]\">Регистрация</h1>\r\n      </div>\r\n      <form onSubmit={form.handleSubmit(onSubmit)} className=\"flex flex-col mx-auto items-center gap-4 max-w-[600px]\">\r\n        {/* Email Field */}\r\n        <div className=\"flex flex-col space-y-2 w-full\">\r\n          <label className=\"input bg-transparent border-b border-[#423C3D]  border-x-0 border-t-0 rounded-none flex items-center gap-2\">\r\n            <svg\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              viewBox=\"0 0 16 16\"\r\n              fill=\"currentColor\"\r\n              className=\"h-4 w-4 opacity-70\"\r\n            >\r\n              <path d=\"M2.5 3A1.5 1.5 0 0 0 1 4.5v.793c.026.009.051.02.076.032L7.674 8.51c.206.1.446.1.652 0l6.598-3.185A.755.755 0 0 1 15 5.293V4.5A1.5 1.5 0 0 0 13.5 3h-11Z\" />\r\n              <path d=\"M15 6.954 8.978 9.86a2.25 2.25 0 0 1-1.956 0L1 6.954V11.5A1.5 1.5 0 0 0 2.5 13h11a1.5 1.5 0 0 0 1.5-1.5V6.954Z\" />\r\n            </svg>\r\n            <input type=\"text\" className=\"grow\" placeholder=\"Почта\" {...form.register(\"email\")} />\r\n          </label>\r\n          {form.formState.errors.email && (\r\n            <span className=\"text-red-500 text-sm\">{form.formState.errors.email.message}</span>\r\n          )}\r\n        </div>\r\n\r\n        {/* First Name Field */}\r\n        <div className=\"flex flex-col space-y-2 w-full\">\r\n          <label className=\"input bg-transparent border-b border-[#423C3D] border-x-0 border-t-0 rounded-none flex items-center gap-2\">\r\n            <svg\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              viewBox=\"0 0 16 16\"\r\n              fill=\"currentColor\"\r\n              className=\"h-4 w-4 opacity-70\"\r\n            >\r\n              <path d=\"M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6ZM12.735 14c.618 0 1.093-.561.872-1.139a6.002 6.002 0 0 0-11.215 0c-.22.578.254 1.139.872 1.139h9.47Z\" />\r\n            </svg>\r\n\r\n            <input type=\"text\" className=\"grow\" placeholder=\"Имя\" {...form.register(\"firstName\")} />\r\n          </label>\r\n          {form.formState.errors.firstName && (\r\n            <span className=\"text-red-500 text-sm\">{form.formState.errors.firstName.message}</span>\r\n          )}\r\n        </div>\r\n\r\n        {/* Last Name Field */}\r\n        <div className=\"flex flex-col space-y-2 w-full\">\r\n          <label className=\"input bg-transparent border-b border-[#423C3D] border-x-0 border-t-0 rounded-none flex items-center gap-2\">\r\n            <svg\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              viewBox=\"0 0 16 16\"\r\n              fill=\"currentColor\"\r\n              className=\"h-4 w-4 opacity-70\"\r\n            >\r\n              <path d=\"M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6ZM12.735 14c.618 0 1.093-.561.872-1.139a6.002 6.002 0 0 0-11.215 0c-.22.578.254 1.139.872 1.139h9.47Z\" />\r\n            </svg>\r\n            <input type=\"text\" className=\"grow\" placeholder=\"Фамилия\" {...form.register(\"lastName\")} />\r\n          </label>\r\n          {form.formState.errors.lastName && (\r\n            <span className=\"text-red-500 text-sm\">{form.formState.errors.lastName.message}</span>\r\n          )}\r\n        </div>\r\n\r\n        {/* Password Field */}\r\n        <div className=\"flex flex-col space-y-2 w-full\">\r\n          <label className=\"input bg-transparent border-b border-[#423C3D] border-x-0 border-t-0 rounded-none flex items-center gap-2\">\r\n            <svg\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              viewBox=\"0 0 16 16\"\r\n              fill=\"currentColor\"\r\n              className=\"h-4 w-4 opacity-70\"\r\n            >\r\n              <path\r\n                fillRule=\"evenodd\"\r\n                d=\"M14 6a4 4 0 0 1-4.899 3.899l-1.955 1.955a.5.5 0 0 1-.353.146H5v1.5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-2.293a.5.5 0 0 1 .146-.353l3.955-3.955A4 4 0 1 1 14 6Zm-4-2a.75.75 0 0 0 0 1.5.5.5 0 0 1 .5.5.75.75 0 0 0 1.5 0 2 2 0 0 0-2-2Z\"\r\n                clipRule=\"evenodd\"\r\n              />\r\n            </svg>\r\n            <input\r\n              type=\"password\"\r\n              className=\"grow bg-transparent focus:outline-none\"\r\n              placeholder=\"Пароль\"\r\n              {...form.register(\"password\")}\r\n            />\r\n          </label>\r\n          {form.formState.errors.password && (\r\n            <span className=\"text-red-500 text-sm\">{form.formState.errors.password.message}</span>\r\n          )}\r\n        </div>\r\n\r\n        {/* Confirm Password Field */}\r\n        <div className=\"flex flex-col space-y-2 w-full\">\r\n          <label className=\"input bg-transparent border-b border-[#423C3D] border-x-0 border-t-0 rounded-none flex items-center gap-2\">\r\n            <svg\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              viewBox=\"0 0 16 16\"\r\n              fill=\"currentColor\"\r\n              className=\"h-4 w-4 opacity-70\"\r\n            >\r\n              <path\r\n                fillRule=\"evenodd\"\r\n                d=\"M14 6a4 4 0 0 1-4.899 3.899l-1.955 1.955a.5.5 0 0 1-.353.146H5v1.5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-2.293a.5.5 0 0 1 .146-.353l3.955-3.955A4 4 0 1 1 14 6Zm-4-2a.75.75 0 0 0 0 1.5.5.5 0 0 1 .5.5.75.75 0 0 0 1.5 0 2 2 0 0 0-2-2Z\"\r\n                clipRule=\"evenodd\"\r\n              />\r\n            </svg>\r\n            <input\r\n              type=\"password\"\r\n              className=\"grow\"\r\n              placeholder=\"Подтверждение пароля\"\r\n              {...form.register(\"confirmPassword\")}\r\n            />\r\n          </label>\r\n          {form.formState.errors.confirmPassword && (\r\n            <span className=\"text-red-500 text-sm\">{form.formState.errors.confirmPassword.message}</span>\r\n          )}\r\n        </div>\r\n\r\n        {/* Agree to Policy Checkbox */}\r\n        <div className=\"flex items-center space-x-2\">\r\n          <input\r\n            type=\"checkbox\"\r\n            id=\"agreeToPolicy\"\r\n            defaultChecked\r\n            className=\"checkbox checkbox-sm rounded-none\"\r\n            {...form.register(\"agreeToPolicy\")}\r\n          />\r\n          <label htmlFor=\"agreeToPolicy\" className=\"text-xs\">\r\n            Подтверждаю согласие с <Link href=\"/policy\">Политикой конфиденциальности</Link>\r\n          </label>\r\n        </div>\r\n        {form.formState.errors.agreeToPolicy && (\r\n          <span className=\"text-red-500 text-sm\">{form.formState.errors.agreeToPolicy.message}</span>\r\n        )}\r\n\r\n        {/* Submit Button */}\r\n        <div className=\"flex flex-col gap-5 mt-4 w-full\">\r\n          <button type=\"submit\" className=\"bg-gray-100 text-[#423C3D] px-4 py-2 hover:bg-gray-300\">\r\n            Зарегистрироваться\r\n          </button>\r\n          <div className=\"flex justify-center\">\r\n            <button className=\"text-center flex gap-2\">\r\n              <span className=\"text-[14px]\">Уже есть аккаунт?</span>\r\n              <Link href=\"/login\" className=\"text-blue-300 text-[14px]\">\r\n                Войти\r\n              </Link>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RegisterPage;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 510, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 520, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Ilyas/Desktop/projects/shop-kwork/node_modules/next/navigation.js"],"sourcesContent":["module.exports = require('./dist/client/components/navigation')\n"],"names":[],"mappings":"AAAA,OAAO,OAAO","ignoreList":[0]}},
    {"offset": {"line": 521, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}