{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://D%3A/Portfolio/Shop-kwork/shop-kwork/src/entities/PersonalAcc/ui/PersonalAcc.tsx"],"sourcesContent":["/* eslint-disable jsx-a11y/alt-text */\r\n/* eslint-disable @next/next/no-img-element */\r\nimport {\r\n  useChangeAvatarMutation,\r\n  useChangeProfileMutation,\r\n  useGetProfileQuery,\r\n} from \"@/shared/api/ProfileApi/ProfileApi\";\r\nimport { zodResolver } from \"@hookform/resolvers/zod\";\r\nimport React, { useEffect, useRef } from \"react\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { z } from \"zod\";\r\n\r\nconst formSchema = z\r\n  .object({\r\n    email: z.string().email({\r\n      message: \"Почта введена неправильно\",\r\n    }),\r\n    password: z.string().min(8, {\r\n      message: \"Пароль должен содержать не менее 8 символов\",\r\n    }),\r\n    confirmPassword: z.string().min(8, {\r\n      message: \"Подтверждение пароля должно содержать не менее 8 символов\",\r\n    }),\r\n    firstName: z.string().nonempty({\r\n      message: \"Имя обязательно для заполнения\",\r\n    }),\r\n    lastName: z.string().nonempty({\r\n      message: \"Фамилия обязательна для заполнения\",\r\n    }),\r\n  })\r\n  .refine(data => data.password === data.confirmPassword, {\r\n    message: \"Пароли не совпадают\",\r\n    path: [\"confirmPassword\"],\r\n  });\r\n\r\ntype FormFields = z.infer<typeof formSchema>;\r\n\r\nconst PersonalAcc = () => {\r\n  const { data, isLoading, isSuccess } = useGetProfileQuery({});\r\n  const [changeProfile] = useChangeProfileMutation();\r\n  const [changeAvatar] = useChangeAvatarMutation();\r\n  const fileInputRef = useRef<HTMLInputElement>(null);\r\n\r\n  const form = useForm<FormFields>({\r\n    resolver: zodResolver(formSchema),\r\n    defaultValues: {\r\n      email: data?.email || \"\",\r\n      password: \"\",\r\n      confirmPassword: \"\",\r\n      firstName: data?.name || \"\",\r\n      lastName: data?.surname || \"\",\r\n    },\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (isSuccess && data) {\r\n      form.reset({\r\n        email: data.email,\r\n        firstName: data.name,\r\n        lastName: data.surname,\r\n      });\r\n    }\r\n  }, [isSuccess, data, form]);\r\n\r\n  const handleChange = async (values: FormFields) => {\r\n    try {\r\n      const requestBody = {\r\n        id: isSuccess ? data.id : \"\",\r\n        name: values.firstName,\r\n        surname: values.lastName,\r\n        email: values.email,\r\n        password: values.password,\r\n        password_confirmation: values.confirmPassword,\r\n      };\r\n      const result = await changeProfile(requestBody).unwrap();\r\n      console.log(\"result: \" + result);\r\n    } catch (err) {\r\n      console.error(\"Registration failed:\", err);\r\n    }\r\n  };\r\n\r\n  const handleAvatarChange = async (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    const file = event.target.files?.[0];\r\n    if (file) {\r\n      const formData = new FormData();\r\n      // formData.append(\"avatar\", file);\r\n\r\n      try {\r\n        const result = await changeAvatar(formData).unwrap();\r\n        console.log(\"Avatar changed:\", result);\r\n      } catch (err) {\r\n        console.error(\"Failed to change avatar:\", err);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleAvatarButtonClick = () => {\r\n    fileInputRef.current?.click();\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex flex-row-reverse gap-[50px] max-mindesk:flex-col\">\r\n      <div className=\"flex flex-col gap-[20px] mr-auto max-w-[200px] w-full object-cover rounded-md max-mindesk:m-auto\">\r\n        <img\r\n          src={isLoading ? \"/images/Account/icon.png\" : data?.avatar_url ? data.avatar_url : \"/images/Account/icon.png\"}\r\n          className=\"object-cover max-w-[200px] w-full border-solid border-[1px] border-gray-400\"\r\n        />\r\n        <input\r\n          type=\"file\"\r\n          ref={fileInputRef}\r\n          style={{ display: \"none\" }}\r\n          onChange={handleAvatarChange}\r\n          accept=\"image/*\"\r\n        />\r\n        <button\r\n          type=\"button\"\r\n          className=\"bg-gray-100 text-[#423C3D] px-4 py-2 hover:bg-gray-300 w-full\"\r\n          onClick={handleAvatarButtonClick}\r\n        >\r\n          Изменить фото\r\n        </button>\r\n      </div>\r\n      <form\r\n        onSubmit={form.handleSubmit(handleChange)}\r\n        className=\"mt-[0px] flex flex-col gap-[50px] max-w-[600px] w-full max-laptop:mt-[10px]\"\r\n      >\r\n        <div className=\"flex gap-[40px] max-minilaptop:flex-col\">\r\n          <div className=\"flex flex-col space-y-2 w-full\">\r\n            <label className=\"input bg-transparent border-b border-[#423C3D]  border-x-0 border-t-0 rounded-none flex items-center gap-2\">\r\n              <input type=\"text\" className=\"grow\" placeholder=\"Имя\" {...form.register(\"firstName\")} />\r\n            </label>\r\n          </div>\r\n          <div className=\"flex flex-col space-y-2 w-full\">\r\n            <label className=\"input bg-transparent border-b border-[#423C3D]  border-x-0 border-t-0 rounded-none flex items-center gap-2\">\r\n              <input type=\"text\" className=\"grow\" placeholder=\"Фамилия\" {...form.register(\"lastName\")} />\r\n            </label>\r\n          </div>\r\n        </div>\r\n        <div className=\"flex gap-[40px] max-minilaptop:flex-col\">\r\n          <div className=\"flex flex-col space-y-2 w-full\">\r\n            <label className=\"input bg-transparent border-b border-[#423C3D]  border-x-0 border-t-0 rounded-none flex items-center gap-2\">\r\n              <input type=\"text\" className=\"grow\" placeholder=\"Дата рождения\" />\r\n            </label>\r\n          </div>\r\n          <div className=\"flex flex-col space-y-2 w-full\">\r\n            <label className=\"input bg-transparent border-b border-[#423C3D]  border-x-0 border-t-0 rounded-none flex items-center gap-2\">\r\n              <input type=\"text\" className=\"grow\" placeholder=\"Номер телефона\" />\r\n            </label>\r\n          </div>\r\n        </div>\r\n        <div className=\"flex flex-col space-y-2 w-full\">\r\n          <label className=\"input bg-transparent border-b border-[#423C3D]  border-x-0 border-t-0 rounded-none flex items-center gap-2\">\r\n            <input type=\"text\" className=\"grow\" placeholder=\"Почта\" {...form.register(\"email\")} />\r\n          </label>\r\n        </div>\r\n        <div className=\"flex gap-[40px] max-minilaptop:flex-col\">\r\n          <div className=\"flex flex-col space-y-2 w-full\">\r\n            <label className=\"input bg-transparent border-b border-[#423C3D]  border-x-0 border-t-0 rounded-none flex items-center gap-2\">\r\n              <input type=\"password\" className=\"grow\" placeholder=\"Пароль\" {...form.register(\"password\")} />\r\n            </label>\r\n          </div>\r\n          <div className=\"flex flex-col space-y-2 w-full\">\r\n            <label className=\"input bg-transparent border-b border-[#423C3D]  border-x-0 border-t-0 rounded-none flex items-center gap-2\">\r\n              <input\r\n                type=\"password\"\r\n                className=\"grow\"\r\n                placeholder=\"Подтверждение пароля\"\r\n                {...form.register(\"confirmPassword\")}\r\n              />\r\n            </label>\r\n          </div>\r\n        </div>\r\n        <button className=\"bg-gray-100 text-[#423C3D] px-4 py-2 hover:bg-gray-300 w-full\">Сохранить изменения</button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PersonalAcc;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 366, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 372, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 375, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 390, "column": 0}, "map": {"version":3,"sources":["file://D%3A/Portfolio/Shop-kwork/shop-kwork/src/entities/Orders/ui/Orders.tsx"],"sourcesContent":["/* eslint-disable @next/next/no-img-element */\r\nimport { useProductStore } from \"@/entities/productStore/store\";\r\n// import { useGetOrdersQuery } from \"@/shared/api/OrdersApi/OrdersApi\";\r\nimport React from \"react\";\r\nimport { MdDeleteOutline } from \"react-icons/md\";\r\n\r\nconst Orders = () => {\r\n  const { products, removeProduct } = useProductStore();\r\n  // const {data,isSuccess} = useGetOrdersQuery()\r\n  return (\r\n    <div className=\"max-w-[600px] w-full mt-[100px] grid grid-cols-2 gap-[30px]\">\r\n      {products.length > 0\r\n        ? products.map(product => (\r\n            <li key={product.id} className=\"flex gap-5 p-2 justify-between\">\r\n              <div className=\"flex gap-5 items-center\">\r\n                <div>\r\n                  <img src={product.img} alt={product.name} className=\"h-[300px] w-[200px] object-cover\" />\r\n                </div>\r\n                <div className=\"flex flex-col justify-start\">\r\n                  <span className=\"text-black\">{product.name}</span>\r\n                  <span className=\"text-[30px] text-black\">{product.price} руб</span>\r\n                </div>\r\n              </div>\r\n              <div>\r\n                <MdDeleteOutline\r\n                  onClick={() => removeProduct(product.id)}\r\n                  size={30}\r\n                  className=\"m-2 cursor-pointer hover:text-red-500\"\r\n                />\r\n              </div>\r\n            </li>\r\n          ))\r\n        : \"Заказов нет\"}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Orders;\r\n"],"names":[],"mappings":"AAAA,4CAA4C;;;;AAC5C;AAGA;;;;AAEA,MAAM,SAAS;IACb,MAAM,EAAE,QAAQ,EAAE,aAAa,EAAE,GAAG,CAAA,GAAA,wIAAA,CAAA,kBAAe,AAAD;IAClD,+CAA+C;IAC/C,qBACE,8OAAC;QAAI,WAAU;kBACZ,SAAS,MAAM,GAAG,IACf,SAAS,GAAG,CAAC,CAAA,wBACX,8OAAC;gBAAoB,WAAU;;kCAC7B,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;0CACC,cAAA,8OAAC;oCAAI,KAAK,QAAQ,GAAG;oCAAE,KAAK,QAAQ,IAAI;oCAAE,WAAU;;;;;;;;;;;0CAEtD,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAK,WAAU;kDAAc,QAAQ,IAAI;;;;;;kDAC1C,8OAAC;wCAAK,WAAU;;4CAA0B,QAAQ,KAAK;4CAAC;;;;;;;;;;;;;;;;;;;kCAG5D,8OAAC;kCACC,cAAA,8OAAC,8IAAA,CAAA,kBAAe;4BACd,SAAS,IAAM,cAAc,QAAQ,EAAE;4BACvC,MAAM;4BACN,WAAU;;;;;;;;;;;;eAdP,QAAQ,EAAE;;;;wBAmBrB;;;;;;AAGV;uCAEe"}},
    {"offset": {"line": 487, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 493, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 496, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 511, "column": 0}, "map": {"version":3,"sources":["file://D%3A/Portfolio/Shop-kwork/shop-kwork/src/entities/Favourites/ui/Favourites.tsx"],"sourcesContent":["/* eslint-disable @next/next/no-img-element */\r\nimport { useDeleteWishlistMutation, useGetWishListQuery } from \"@/shared/api/ProfileApi/ProfileApi\";\r\nimport React from \"react\";\r\nimport { MdDeleteOutline } from \"react-icons/md\";\r\nimport { toast } from \"react-toastify\";\r\n\r\ninterface ProductImage {\r\n  image_path: string;\r\n}\r\n\r\ninterface Product {\r\n  id: number;\r\n  name: string;\r\n  price: number;\r\n  images: ProductImage[];\r\n}\r\n\r\nconst Favourites = () => {\r\n  // const { removeFav } = useFavStore();\r\n  const { data, isSuccess } = useGetWishListQuery({});\r\n  const [deleteWishlist] = useDeleteWishlistMutation();\r\n\r\n  const handleDeleteWishlist = (id: number) => {\r\n    deleteWishlist({ id: id });\r\n    toast.error(`Удалено из избранного `, {\r\n      position: \"top-right\",\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"max-w-[800px] w-full mt-[100px] grid grid-cols-1 gap-[30px] overflow-y-auto h-[400px]\">\r\n      {isSuccess\r\n        ? data.data.map((product: Product) => (\r\n            <li key={product.id} className=\"flex gap-5 p-2 justify-between \">\r\n              <div className=\"flex gap-5 items-center\">\r\n                <div>\r\n                  <img\r\n                    src={product.images[0].image_path}\r\n                    alt={product.name}\r\n                    className=\"h-[300px] w-[200px] object-cover\"\r\n                  />\r\n                </div>\r\n                <div className=\"flex flex-col justify-start\">\r\n                  <span className=\"text-black\">{product.name}</span>\r\n                  <span className=\"text-[30px] text-black\">{product.price} руб</span>\r\n                </div>\r\n              </div>\r\n              <div>\r\n                <MdDeleteOutline\r\n                  onClick={() => handleDeleteWishlist(product.id)}\r\n                  size={30}\r\n                  className=\"m-2 cursor-pointer hover:text-red-500\"\r\n                />\r\n              </div>\r\n            </li>\r\n          ))\r\n        : \"Товаров нет\"}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Favourites;\r\n"],"names":[],"mappings":"AAAA,4CAA4C;;;;AAC5C;AAGA;AADA;;;;;AAcA,MAAM,aAAa;IACjB,uCAAuC;IACvC,MAAM,EAAE,IAAI,EAAE,SAAS,EAAE,GAAG,CAAA,GAAA,iJAAA,CAAA,sBAAmB,AAAD,EAAE,CAAC;IACjD,MAAM,CAAC,eAAe,GAAG,CAAA,GAAA,iJAAA,CAAA,4BAAyB,AAAD;IAEjD,MAAM,uBAAuB,CAAC;QAC5B,eAAe;YAAE,IAAI;QAAG;QACxB,mJAAA,CAAA,QAAK,CAAC,KAAK,CAAC,CAAC,sBAAsB,CAAC,EAAE;YACpC,UAAU;QACZ;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACZ,YACG,KAAK,IAAI,CAAC,GAAG,CAAC,CAAC,wBACb,8OAAC;gBAAoB,WAAU;;kCAC7B,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;0CACC,cAAA,8OAAC;oCACC,KAAK,QAAQ,MAAM,CAAC,EAAE,CAAC,UAAU;oCACjC,KAAK,QAAQ,IAAI;oCACjB,WAAU;;;;;;;;;;;0CAGd,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAK,WAAU;kDAAc,QAAQ,IAAI;;;;;;kDAC1C,8OAAC;wCAAK,WAAU;;4CAA0B,QAAQ,KAAK;4CAAC;;;;;;;;;;;;;;;;;;;kCAG5D,8OAAC;kCACC,cAAA,8OAAC,8IAAA,CAAA,kBAAe;4BACd,SAAS,IAAM,qBAAqB,QAAQ,EAAE;4BAC9C,MAAM;4BACN,WAAU;;;;;;;;;;;;eAlBP,QAAQ,EAAE;;;;wBAuBrB;;;;;;AAGV;uCAEe"}},
    {"offset": {"line": 619, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 625, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 628, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 643, "column": 0}, "map": {"version":3,"sources":["file://D%3A/Portfolio/Shop-kwork/shop-kwork/src/entities/Address/ui/Address.tsx"],"sourcesContent":["// import { useGetAddressesQuery } from \"@/shared/api/AddressApi/AddressApi\";\r\nimport {\r\n  useAddAddressesMutation,\r\n  useDeleteAddressesMutation,\r\n  useGetAddressesQuery,\r\n  useUpdateAddressesMutation,\r\n} from \"@/shared/api/AddressApi/AddressApi\";\r\nimport { zodResolver } from \"@hookform/resolvers/zod\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { RxCross2 } from \"react-icons/rx\";\r\nimport { z } from \"zod\";\r\nimport { GoPencil } from \"react-icons/go\";\r\nimport { FaRegTrashCan } from \"react-icons/fa6\";\r\nimport { toast } from \"react-toastify\";\r\n\r\ninterface IModal {\r\n  click: boolean;\r\n  setClick: React.Dispatch<React.SetStateAction<boolean>>;\r\n}\r\n\r\ninterface IUpdModal {\r\n  click: boolean;\r\n  setClick: React.Dispatch<React.SetStateAction<boolean>>;\r\n  item: {\r\n    id: number;\r\n    apartment: string | null; // Accepts null\r\n    city: string;\r\n    created_at?: string; // Optional\r\n    house: string | null; // Accepts null\r\n    is_primary: boolean; // Changed to boolean\r\n    postal_code: string;\r\n    state: string;\r\n    street: string | null; // Accepts null\r\n    updated_at?: string; // Optional\r\n  };\r\n}\r\n\r\nconst formSchema = z.object({\r\n  state: z.string().nonempty({\r\n    message: \"Почта введена неправильно\",\r\n  }),\r\n  city: z.string().nonempty({\r\n    message: \"Пароль должен содержать не менее 8 символов\",\r\n  }),\r\n  street: z.string().nonempty({\r\n    message: \"Подтверждение пароля должно содержать не менее 8 символов\",\r\n  }),\r\n  house: z.string().nonempty({\r\n    message: \"Имя обязательно для заполнения\",\r\n  }),\r\n  postal_code: z.string().nonempty({\r\n    message: \"Почтовый индекс обязательна для заполнения\",\r\n  }),\r\n  apartment: z.string().nonempty({\r\n    message: \"Апартаменты обязательное поле\",\r\n  }),\r\n});\r\n\r\ntype FormFields = z.infer<typeof formSchema>;\r\n\r\nconst Modal = ({ click, setClick }: IModal) => {\r\n  const [addAddresses] = useAddAddressesMutation();\r\n  const form = useForm<FormFields>({\r\n    resolver: zodResolver(formSchema),\r\n    defaultValues: {\r\n      state: \"\",\r\n      city: \"\",\r\n      street: \"\",\r\n      house: \"\",\r\n      postal_code: \"\",\r\n    },\r\n  });\r\n\r\n  const handleChange = async (values: FormFields) => {\r\n    try {\r\n      const requestBody = {\r\n        is_primary: false,\r\n        state: values.state,\r\n        city: values.city,\r\n        street: values.street,\r\n        house: values.house,\r\n        postal_code: values.postal_code,\r\n        apartment: values.apartment,\r\n      };\r\n      setClick(false);\r\n      const result = await addAddresses(requestBody).unwrap();\r\n      console.log(\"result: \" + result);\r\n    } catch (err) {\r\n      console.error(\"Registration failed:\", err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {\" \"}\r\n      {click ? (\r\n        <div className=\"z-50 bg-black/50 w-screen h-screen fixed top-0 left-0 flex justify-center items-center\">\r\n          <div className=\"w-[500px] transform bg-white p-6 py-8 rounded-[5px]\">\r\n            <button onClick={() => setClick(false)}>\r\n              <RxCross2 className=\"absolute top-0 right-0 cursor-pointer m-3\" size={30} />{\" \"}\r\n            </button>\r\n            <form onSubmit={form.handleSubmit(handleChange)} className=\"flex flex-col gap-[20px]\">\r\n              <label className=\"input bg-transparent border-b border-[#423C3D] border-x-0 border-t-0 rounded-none flex items-center gap-2\">\r\n                <input type=\"text\" placeholder=\"Государство\" {...form.register(\"state\")} />\r\n              </label>\r\n              <label className=\"input bg-transparent border-b border-[#423C3D] border-x-0 border-t-0 rounded-none flex items-center gap-2\">\r\n                <input type=\"text\" placeholder=\"Город\" {...form.register(\"city\")} />\r\n              </label>\r\n              <label className=\"input bg-transparent border-b border-[#423C3D] border-x-0 border-t-0 rounded-none flex items-center gap-2\">\r\n                <input type=\"text\" placeholder=\"Улица\" {...form.register(\"street\")} />\r\n              </label>\r\n              <label className=\"input bg-transparent border-b border-[#423C3D] border-x-0 border-t-0 rounded-none flex items-center gap-2\">\r\n                <input type=\"text\" placeholder=\"Дом\" {...form.register(\"house\")} />\r\n              </label>\r\n              <label className=\"input bg-transparent border-b border-[#423C3D] border-x-0 border-t-0 rounded-none flex items-center gap-2\">\r\n                <input type=\"text\" placeholder=\"Почтовый индекс\" {...form.register(\"postal_code\")} />\r\n              </label>\r\n              <label className=\"input bg-transparent border-b border-[#423C3D] border-x-0 border-t-0 rounded-none flex items-center gap-2\">\r\n                <input type=\"text\" placeholder=\"Квартира\" {...form.register(\"apartment\")} />\r\n              </label>\r\n              <button>Сохранить адрес</button>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        \"\"\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nconst UpdateModal = ({ click, setClick, item }: IUpdModal) => {\r\n  const [updateAddresses] = useUpdateAddressesMutation();\r\n\r\n  const getDefaultValues = (item: AddressItem) => ({\r\n    id: item.id,\r\n    state: item.state || \"\",\r\n    city: item.city || \"\",\r\n    street: item.street || \"\", // Handles null/undefined\r\n    house: item.house || \"\", // Handles null/undefined\r\n    postal_code: item.postal_code || \"\",\r\n    apartment: item.apartment || \"\", // Handles null/undefined\r\n    created_at: item.created_at || \"\", // Provides default\r\n    is_primary: item.is_primary || false, // Uses boolean\r\n    updated_at: item.updated_at || \"\", // Provides default\r\n  });\r\n\r\n  const form = useForm<FormFields>({\r\n    resolver: zodResolver(formSchema),\r\n    defaultValues: getDefaultValues(item),\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (item) {\r\n      form.reset(getDefaultValues(item));\r\n    }\r\n  }, [item, form]);\r\n\r\n  const handleChange = async (values: FormFields) => {\r\n    try {\r\n      const requestBody = {\r\n        id: item.id,\r\n        is_primary: false,\r\n        state: values.state,\r\n        city: values.city,\r\n        street: values.street,\r\n        house: values.house,\r\n        postal_code: values.postal_code,\r\n        apartment: values.apartment,\r\n      };\r\n      const result = await updateAddresses(requestBody).unwrap();\r\n      console.log(\"result: \" + result);\r\n      setClick(false);\r\n      toast.info(`Адрес изменен`, {\r\n        position: \"top-right\",\r\n      });\r\n    } catch (err) {\r\n      console.error(\"Registration failed:\", err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {click ? (\r\n        <div className=\"z-50 bg-black/50 w-screen h-screen fixed top-0 left-0 flex justify-center items-center\">\r\n          <div className=\"w-[500px] transform bg-white p-6 py-8 rounded-[5px]\">\r\n            <button onClick={() => setClick(false)}>\r\n              <RxCross2 className=\"absolute top-0 right-0 cursor-pointer m-3\" size={30} />{\" \"}\r\n            </button>\r\n            <form onSubmit={form.handleSubmit(handleChange)} className=\"flex flex-col gap-[20px]\">\r\n              <label className=\"input bg-transparent border-b border-[#423C3D] border-x-0 border-t-0 rounded-none flex items-center gap-2\">\r\n                <input type=\"text\" placeholder=\"Государство\" {...form.register(\"state\")} />\r\n              </label>\r\n              <label className=\"input bg-transparent border-b border-[#423C3D] border-x-0 border-t-0 rounded-none flex items-center gap-2\">\r\n                <input type=\"text\" placeholder=\"Город\" {...form.register(\"city\")} />\r\n              </label>\r\n              <label className=\"input bg-transparent border-b border-[#423C3D] border-x-0 border-t-0 rounded-none flex items-center gap-2\">\r\n                <input type=\"text\" placeholder=\"Улица\" {...form.register(\"street\")} />\r\n              </label>\r\n              <label className=\"input bg-transparent border-b border-[#423C3D] border-x-0 border-t-0 rounded-none flex items-center gap-2\">\r\n                <input type=\"text\" placeholder=\"Дом\" {...form.register(\"house\")} />\r\n              </label>\r\n              <label className=\"input bg-transparent border-b border-[#423C3D] border-x-0 border-t-0 rounded-none flex items-center gap-2\">\r\n                <input type=\"text\" placeholder=\"Почтовый индекс\" {...form.register(\"postal_code\")} />\r\n              </label>\r\n              <label className=\"input bg-transparent border-b border-[#423C3D] border-x-0 border-t-0 rounded-none flex items-center gap-2\">\r\n                <input type=\"text\" placeholder=\"Квартира\" {...form.register(\"apartment\")} />\r\n              </label>\r\n              <button>Сохранить адрес</button>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      ) : null}\r\n    </>\r\n  );\r\n};\r\n\r\n// interface Pivot {\r\n//   user_id: number;\r\n//   address_id: number;\r\n//   created_at: string;\r\n//   updated_at: string;\r\n// }\r\n\r\ninterface AddressItem {\r\n  id: number;\r\n  apartment: string | null; // Accepts null\r\n  city: string;\r\n  created_at?: string; // Optional\r\n  house: string | null; // Accepts null\r\n  is_primary: boolean; // Changed to boolean\r\n  postal_code: string;\r\n  state: string;\r\n  street: string | null; // Accepts null\r\n  updated_at?: string;\r\n}\r\n\r\nconst Address = () => {\r\n  const { data, isSuccess } = useGetAddressesQuery();\r\n\r\n  const [click, setClick] = useState(false);\r\n  // const [click2, setClick2] = useState(false);\r\n  const [editingId, setEditingId] = useState<number | null>(null);\r\n  const [deleteAddresses] = useDeleteAddressesMutation();\r\n\r\n  const handleDelete = (id: number) => {\r\n    deleteAddresses({ id: id });\r\n    toast.error(`Адрес удален `, {\r\n      position: \"top-right\",\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"mt-[100px] max-w-[600px] h-[300px] w-full flex flex-col gap-[50px] overflow-x-auto\">\r\n      {isSuccess ? (\r\n        data.map(item => (\r\n          <div key={item.id} className=\"flex max-w-[800px] w-full\">\r\n            {/* <h3>Адрес #{item.id}</h3> */}\r\n            <div className=\"address-details max-w-[500px] w-full\">\r\n              {item.state && <p>Штат: {item.state}</p>}\r\n              {item.city && <p>Город: {item.city}</p>}\r\n              {(item.street || item.house) && (\r\n                <p>\r\n                  Улица: {item.street} {item.house}\r\n                  {item.apartment && `, кв. ${item.apartment}`}\r\n                </p>\r\n              )}\r\n              {item.postal_code && <p>Почтовый индекс: {item.postal_code}</p>}\r\n              <div className=\"meta-info\">\r\n                {/* <small>Создан: {new Date(item.created_at).toLocaleDateString()}</small>\r\n                <small>Обновлён: {new Date(item.updated_at).toLocaleDateString()}</small> */}\r\n              </div>\r\n            </div>\r\n            <div className=\"flex gap-[20px]\">\r\n              <button onClick={() => setEditingId(item.id)}>\r\n                <GoPencil size={20} className=\"cursor-pointer\" />\r\n              </button>\r\n\r\n              {editingId === item.id ? (\r\n                <UpdateModal click={true} setClick={() => setEditingId(null)} item={item} />\r\n              ) : (\r\n                \"\"\r\n              )}\r\n              <button onClick={() => handleDelete(item.id)}>\r\n                <FaRegTrashCan size={20} className=\"cursor-pointer\" />\r\n              </button>\r\n            </div>\r\n          </div>\r\n        ))\r\n      ) : (\r\n        <p>Сохранненых адресов нет</p>\r\n      )}\r\n      <button className=\"bg-gray-100 text-[#423C3D] px-4 py-2 hover:bg-gray-300 w-full\" onClick={() => setClick(true)}>\r\n        {\" \"}\r\n        Добавить новый адрес{\" \"}\r\n      </button>\r\n\r\n      {click ? <Modal click={click} setClick={() => setClick(prev => !prev)} /> : \"\"}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Address;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1236, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1242, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 1245, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1260, "column": 0}, "map": {"version":3,"sources":["file://D%3A/Portfolio/Shop-kwork/shop-kwork/src/entities/PartnerProgramm/ui/PartnerProgramm.tsx"],"sourcesContent":["\"use client\";\r\nimport {\r\n  useGetLoyaltyLevelQuery,\r\n  useGetLoyaltyPointsHistoryQuery,\r\n  useGetLoyaltyPointsQuery,\r\n} from \"@/shared/api/LoyaytyApi/Loyayti\";\r\nimport React from \"react\";\r\n\r\nconst LoayltyLevel = () => {\r\n  const { data, isSuccess } = useGetLoyaltyLevelQuery();\r\n  console.log(data);\r\n  return <p>Уровень программы лояльности: {isSuccess ? data.level : \"\"}</p>;\r\n};\r\n\r\nconst LoyaytiPoints = () => {\r\n  const { data, isSuccess } = useGetLoyaltyPointsQuery();\r\n  console.log(data);\r\n  return <p>Баллы лояльности: {isSuccess ? data.total_points : 0}</p>;\r\n};\r\n\r\nconst LoyaytiPointsHistory = () => {\r\n  const { data } = useGetLoyaltyPointsHistoryQuery();\r\n  console.log(data);\r\n  return <p>История Баллов: Истории нет</p>;\r\n};\r\n\r\nconst PartnerProgramm = () => {\r\n  return (\r\n    <div className=\"mt-[100px] max-w-[600px] w-full flex flex-col gap-[50px]\">\r\n      <LoayltyLevel />\r\n      <LoyaytiPoints />\r\n      <LoyaytiPointsHistory />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PartnerProgramm;\r\n"],"names":[],"mappings":";;;;AACA;AADA;;;AAQA,MAAM,eAAe;IACnB,MAAM,EAAE,IAAI,EAAE,SAAS,EAAE,GAAG,CAAA,GAAA,8IAAA,CAAA,0BAAuB,AAAD;IAClD,QAAQ,GAAG,CAAC;IACZ,qBAAO,8OAAC;;YAAE;YAA+B,YAAY,KAAK,KAAK,GAAG;;;;;;;AACpE;AAEA,MAAM,gBAAgB;IACpB,MAAM,EAAE,IAAI,EAAE,SAAS,EAAE,GAAG,CAAA,GAAA,8IAAA,CAAA,2BAAwB,AAAD;IACnD,QAAQ,GAAG,CAAC;IACZ,qBAAO,8OAAC;;YAAE;YAAmB,YAAY,KAAK,YAAY,GAAG;;;;;;;AAC/D;AAEA,MAAM,uBAAuB;IAC3B,MAAM,EAAE,IAAI,EAAE,GAAG,CAAA,GAAA,8IAAA,CAAA,kCAA+B,AAAD;IAC/C,QAAQ,GAAG,CAAC;IACZ,qBAAO,8OAAC;kBAAE;;;;;;AACZ;AAEA,MAAM,kBAAkB;IACtB,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;;;;;0BACD,8OAAC;;;;;0BACD,8OAAC;;;;;;;;;;;AAGP;uCAEe"}},
    {"offset": {"line": 1334, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1340, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 1343, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1358, "column": 0}, "map": {"version":3,"sources":["file://D%3A/Portfolio/Shop-kwork/shop-kwork/src/entities/Logout/ui/Logout.tsx"],"sourcesContent":["import React from \"react\";\r\n\r\nconst Logout = () => {\r\n  return <div className=\"max-w-[600px] w-full mt-[100px] cursor-pointer\">Вы вышли из аккаунта.</div>;\r\n};\r\n\r\nexport default Logout;\r\n"],"names":[],"mappings":";;;;;AAEA,MAAM,SAAS;IACb,qBAAO,8OAAC;QAAI,WAAU;kBAAiD;;;;;;AACzE;uCAEe"}},
    {"offset": {"line": 1374, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1380, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 1383, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1458, "column": 0}, "map": {"version":3,"sources":["file://D%3A/Portfolio/Shop-kwork/shop-kwork/src/widgets/AccountPage/ui/AccountPage.tsx"],"sourcesContent":["\"use client\";\r\nimport { useLogoutMutation } from \"@/shared/api/LogoutApi/LogoutApi\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport React, { useState } from \"react\";\r\nimport { PersonalAcc } from \"@/entities/PersonalAcc\";\r\nimport { Orders } from \"@/entities/Orders\";\r\nimport { Favourites } from \"@/entities/Favourites\";\r\nimport { Address } from \"@/entities/Address\";\r\nimport { PartnerProgramm } from \"@/entities/PartnerProgramm\";\r\nimport { Logout } from \"@/entities/Logout\";\r\nimport { useAuth } from \"@/shared/hook/AuthContext/ui/AuthContext\";\r\n\r\nconst AccountPage = () => {\r\n  const [activeTab, setActiveTab] = useState(\"Личные данные\");\r\n  const [logout] = useLogoutMutation();\r\n  const { push } = useRouter();\r\n  const { setToken } = useAuth();\r\n\r\n  const handleLogout = async () => {\r\n    try {\r\n      await logout({ access_token: localStorage.getItem(\"access_token\") }).unwrap();\r\n      setToken(null); // Удалит токен из состояния и localStorage\r\n      push(\"/\");\r\n    } catch (error) {\r\n      console.error(\"Ошибка при выходе из системы:\", error);\r\n    }\r\n  };\r\n\r\n  const renderContent = () => {\r\n    switch (activeTab) {\r\n      case \"Личные данные\":\r\n        return <PersonalAcc />;\r\n      case \"Заказы\":\r\n        return <Orders />;\r\n      case \"Избранное\":\r\n        return <Favourites />;\r\n      case \"Адреса\":\r\n        return <Address />;\r\n      case \"Карта лояльности\":\r\n        return <PartnerProgramm />;\r\n      case \"Выйти\":\r\n        return <Logout />;\r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex mt-[90px] mb-[50px] gap-[100px] justify-center max-laptop:flex-col max-laptop:gap-[40px]\">\r\n      <div>\r\n        <ul className=\"flex gap-4 cursor-pointer flex-col max-laptop:flex-row overflow-x-auto\">\r\n          {[\"Личные данные\", \"Заказы\", \"Избранное\", \"Адреса\", \"Карта лояльности\", \"Выйти\"].map(tab => (\r\n            <li\r\n              key={tab}\r\n              className={`p-2 ${activeTab === tab ? \"font-bold underline\" : \"\"}`}\r\n              onClick={tab === \"Выйти\" ? () => handleLogout() : () => setActiveTab(tab)}\r\n            >\r\n              {tab}\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      </div>\r\n      {renderContent()}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AccountPage;\r\n"],"names":[],"mappings":";;;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AACA;AACA;AACA;AACA;AACA;AATA;;;;;;;;;;;;AAYA,MAAM,cAAc;IAClB,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC3C,MAAM,CAAC,OAAO,GAAG,CAAA,GAAA,+IAAA,CAAA,oBAAiB,AAAD;IACjC,MAAM,EAAE,IAAI,EAAE,GAAG,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IACzB,MAAM,EAAE,QAAQ,EAAE,GAAG,CAAA,GAAA,0JAAA,CAAA,UAAO,AAAD;IAE3B,MAAM,eAAe;QACnB,IAAI;YACF,MAAM,OAAO;gBAAE,cAAc,aAAa,OAAO,CAAC;YAAgB,GAAG,MAAM;YAC3E,SAAS,OAAO,2CAA2C;YAC3D,KAAK;QACP,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,iCAAiC;QACjD;IACF;IAEA,MAAM,gBAAgB;QACpB,OAAQ;YACN,KAAK;gBACH,qBAAO,8OAAC,8LAAA,CAAA,cAAW;;;;;YACrB,KAAK;gBACH,qBAAO,8OAAC,+KAAA,CAAA,SAAM;;;;;YAChB,KAAK;gBACH,qBAAO,8OAAC,2LAAA,CAAA,aAAU;;;;;YACpB,KAAK;gBACH,qBAAO,8OAAC,kLAAA,CAAA,UAAO;;;;;YACjB,KAAK;gBACH,qBAAO,8OAAC,0MAAA,CAAA,kBAAe;;;;;YACzB,KAAK;gBACH,qBAAO,8OAAC,+KAAA,CAAA,SAAM;;;;;YAChB;gBACE,OAAO;QACX;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;0BACC,cAAA,8OAAC;oBAAG,WAAU;8BACX;wBAAC;wBAAiB;wBAAU;wBAAa;wBAAU;wBAAoB;qBAAQ,CAAC,GAAG,CAAC,CAAA,oBACnF,8OAAC;4BAEC,WAAW,CAAC,IAAI,EAAE,cAAc,MAAM,wBAAwB,IAAI;4BAClE,SAAS,QAAQ,UAAU,IAAM,iBAAiB,IAAM,aAAa;sCAEpE;2BAJI;;;;;;;;;;;;;;;YASZ;;;;;;;AAGP;uCAEe"}},
    {"offset": {"line": 1589, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}